:root{
  /* New palette per request */
  --blue-dark: #2C3E50;      /* base dark blue */
  --beige-cold: #C3CED4;     /* very light / cold beige */
  --blue-very-pale: #EBF4F8;  /* very pale blue for cards / popup backgrounds */
  --pastel-orange: #FFFCFA;   /* near-white with an ultra-pale orange tint for tool cards (lighter) */

  /* Semantic names used across the stylesheet */
  --primary: var(--blue-dark);       /* main text/headings color in light mode */
  --nav-bg: var(--blue-dark);        /* nav & sidebar background in light mode */
  --card-bg: var(--blue-very-pale);  /* cards & popup content background in light mode */
  --page-bg: var(--blue-very-pale);  /* page background subtle pale blue */
  --muted: #6b6b6b;
  --accent: var(--blue-dark);
  --text-on-nav: var(--beige-cold);  /* text color on nav/sidebar in light mode */

  /* Popup search background (a subtle blue-grey slightly lighter than card-bg) */
  --popup-search-bg: #f7fbfd;

  /* Dark mode palette variables */
  --dm-nav-bg: var(--beige-cold);    /* nav background in dark mode (beige) */
  --dm-sidebar-bg: #254045;          /* darker blue-gray for sidebar in dark mode */
  --dm-card-bg: #1f2f36;             /* darker blue tone for popups/cards in dark mode */
  --dm-text-on-surface: var(--beige-cold); /* text color used across surfaces in dark mode */
  --dm-overlay: rgba(0,0,0,0.6);
}

/* Basic reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:Inter,system-ui,Arial,sans-serif;background:var(--page-bg);color:var(--primary);-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}

.top-nav{
  width:92%;
  max-width:1100px;
  margin:18px auto;
  height:70px; /* slightly taller so controls can sit lower */
  background:var(--nav-bg);
  color:var(--card-bg);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 16px; /* push inner controls a bit down */
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,0.08);
}
.logo{height:34px}
.menu-btn{
  background:none;border:0;color:var(--pastel-orange);font-size:20px;padding:8px;border-radius:6px;cursor:pointer
}
/* dark mode toggle button in top nav (moon / sun icon) */
.dark-btn{
  background:none;
  border:0;
  color:var(--pastel-orange);
  font-size:18px;
  padding:8px;
  border-radius:6px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.dark-btn i{width:20px; height:20px}
.nav-controls{display:flex;gap:8px;align-items:center}

.sidebar{
  position:fixed;
  left:-280px;
  top:0;
  height:100%;
  width:280px;
  background:var(--nav-bg);
  color:var(--card-bg);
  padding-top:20px;
  padding-bottom:140px; /* reserve space at the bottom so language buttons have room to display */
  transition:left .28s;
  z-index:60;
  /* show items in two columns */
  display:flex;
  flex-wrap:wrap;
  align-content:flex-start;
  overflow:auto;
}
.sidebar.open{left:0}
/* each link takes half the sidebar width so there are two per row;
   keep icon above title inside each link */
.sidebar a{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  width:50%;
  box-sizing:border-box;
  gap:6px;
  padding:12px 6px;
  /* removed borders to eliminate button contours per request */
  color:var(--pastel-orange);
  text-align:center;
  font-size:14px;
  min-height:72px;
}
.sidebar a:nth-child(odd){ /* ensure visual separation when wrapping */
  border-right:1px solid rgba(255,255,255,0.03);
}
.sidebar a i{font-size:20px;display:block}
.closebtn{position:absolute;top:18px;right:12px;font-size:28px;background:none;border:0;color:var(--pastel-orange);cursor:pointer}

/* separator: keep spacing but remove any visible line so the close button isn't visually separated by a border */
.sidebar-separator{
  width:100%;
  height:18px; /* vertical gap (kept for spacing) */
  box-sizing:border-box;
  margin-top:42px; /* reduced gap so the link/module buttons sit a bit higher */
  border-top:0; /* explicitly remove any divider line */
  opacity:0.0;
  pointer-events:none;
}

/* language switch in sidebar - moved to bottom left and shows both flags side by side */
.lang-switch{
  position:absolute;
  left:50%;
  transform:translateX(-50%); /* center both language buttons horizontally */
  bottom:32px; /* moved 10px higher from previous 22px */
  z-index:70;
  display:flex;
  flex-direction:row; /* place language buttons side-by-side */
  gap:10px; /* spacing between the two language buttons */
  align-items:center;
}
.lang-btn{
  display:flex;
  align-items:center;
  gap:8px;
  background:transparent;
  /* explicitly remove borders/outlines to eliminate contours */
  border:none;
  outline:none;
  box-shadow:none;
  color:var(--pastel-orange);
  padding:8px 10px;
  font-size:15px;
  cursor:pointer;
  border-radius:8px;
  line-height:1;
  opacity:0.98;
  min-width:0; /* let buttons size naturally side-by-side */
  text-align:left;
}
/* ensure focus state also has no contour */
.lang-btn:focus{outline:none;box-shadow:none}
.lang-btn .flag{font-size:18px;line-height:1}
/* hide textual labels and show only flag glyphs in the sidebar language buttons */
.lang-btn .label{display:none}
.lang-btn.active{
  box-shadow:0 4px 14px rgba(0,0,0,0.12);
  transform:translateY(-2px);
}
.lang-btn:active,.lang-btn:hover{transform:translateY(-2px)}

/* Main layout */
#main{
  width:92%;
  max-width:1100px;
  margin:8px auto 0;
  padding:8px 0 40px;
  /* Fit main area to viewport so the page itself doesn't scroll;
     keep internal overflow hidden so only popups/list-wrappers scroll. */
  height: calc(100vh - 120px);
  overflow: hidden;
  display: flex;
  align-items: flex-start; /* place cards at the top so there's no large gap before the first card */
  justify-content: center;
}
.page-header{text-align:center;margin:18px 0 26px}
.page-header h1{color:var(--primary);font-size:1.4rem;margin-bottom:6px}
.page-header p{color:var(--muted)}

/* Tools layout - force cards to be narrow columns on larger screens but
   on narrow/mobile (and per request) make each card ~95% width centered */
.tools-container{
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
  width:100%;
  padding:0 8px;
}
.tool-card{
  width:95%;
  max-width:980px;
  background:var(--pastel-orange);
  border-radius:10px;
  padding:14px 18px;
  display:flex;
  flex-direction:column; /* stack icon above title */
  align-items:center;      /* center both icon & title */
  gap:8px;
  border:1px solid var(--card-border, rgba(0,0,0,0.04));
  box-shadow:0 6px 18px rgba(0,0,0,0.04);
  cursor:pointer;
  text-align:center;
  transition:transform .18s,box-shadow .18s;
  min-height:90px; /* slightly taller to accommodate stacked layout */
}
.tool-card i{font-size:26px;color:var(--primary);width:auto;text-align:center}
.tool-card h3{font-size:1rem;color:var(--primary);margin:0}
.tool-card:active,.tool-card:hover{transform:translateY(-4px);box-shadow:0 10px 22px rgba(0,0,0,0.08)}

/* Popup/modal */
.popup{display:none;position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.45);align-items:center;justify-content:center;padding:20px;z-index:80}
.popup[aria-hidden="false"]{display:flex}
.popup-content{position:relative;width:95%;height:95%;max-width:1200px;background:var(--card-bg);border-radius:10px;padding:18px;box-shadow:0 8px 30px rgba(0,0,0,0.25);display:flex;flex-direction:column;overflow:hidden}
/* Close button positioned at the top-right corner of the popup content */
.popup-close{
  position:absolute;
  top:6px; /* raised a bit higher */
  right:12px;
  background:none;
  border:0;
  font-size:26px;
  cursor:pointer;
  z-index:6;
}

/* Popup body: search + table list
   Make the popup body a flex column so the search row and the list
   wrapper sit correctly; only the list-wrapper scrolls, keeping the
   header and the search row fixed. */
.popup-body{
  display:flex;
  flex-direction:column;
  flex:1 1 auto;
  overflow:hidden; /* keep scrolling confined to .list-wrapper */
  padding:18px 0 0 0; /* increased top padding to create a small gap between the close button and the search module */
  position:relative; /* to anchor absolute close button inside popup-content */
}

/* Make the search row sit under the header and stay visible while
   only the results area scrolls. Rounded style for pop-up search bar */
.search-row{
  display:flex;
  gap:8px;
  align-items:center;
  margin:0;
  padding:10px;
  position:relative;
  z-index:2;
  background:var(--popup-search-bg); /* subtle blue-grey slightly lighter than popup background */
  border-bottom: none;
  border-radius:12px; /* rounded rather than rectangular */
  box-shadow:0 2px 6px rgba(0,0,0,0.06);
}
/* Make the search input narrower: use 90% of the available width */
.search-row input[type="search"]{
  width:90%;
  max-width:100%;
  padding:10px 12px;
  border-radius:8px;
  border:1px solid rgba(11,77,160,0.03);
  font-size:14px;
  box-sizing:border-box;
  background:transparent;
  color:inherit;
}
.search-row .count{font-size:13px;color:var(--muted)}

/* Scrollable table listing */
.list-table{width:100%;border-collapse:collapse;font-size:14px}
.list-wrapper{flex:1;overflow:auto;border-top:1px solid rgba(11,77,160,0.02);padding-top:12px /* small space after search before table */}
.list-table th, .list-table td{padding:10px 12px;border-bottom:1px solid rgba(11,77,160,0.02);text-align:left}
.list-table tr{cursor:pointer}
.list-table tr:hover{background:#f7fdff}
/* Dark mode: popup list hover should show dark grey highlight instead of white */
.dark .list-table tr:hover{background:#2b3b3d}

/* Detail popup (smaller: 85%) */
.detail-popup .popup-content{width:85%;height:85%;max-width:900px}
.detail-body{overflow:auto;flex:1;padding-top:6px}

/* dark mode removed */

 /* prevent body scrolling while a modal/popup is open */
.no-scroll{overflow:hidden;height:100%;position:fixed;left:0;right:0}

/* simple dark theme switch: replace core semantic variables when .dark is applied */
.dark{
  /* Keep nav/sidebar colors unchanged in dark mode per spec (no override of --nav-bg) */
  /* Page background becomes a blue-gray matching the sidebar in dark mode */
  --page-bg: var(--dm-sidebar-bg);

  /* Cards and popup background become a darker blue-gray matching nav tone */
  --card-bg: var(--dm-card-bg); /* dm-card-bg is defined above as a darker blue-gray */

  /* Provide a subtle border for cards/popups in dark so frames are visible */
  --card-border: rgba(255,255,255,0.06);

  /* Primary text on cards/popups becomes the pale orange tint */
  --primary: var(--pastel-orange);
  --text-on-nav: var(--text-on-nav);

  /* keep pastel-orange as the pale orange for icons/text (slightly warmer for dark) */
  --pastel-orange: #FFDAB8;

  /* popup search becomes a blue-grey slightly lighter than dm-card-bg for contrast */
  --popup-search-bg: #274a50;
}

/* make popup close button in dark mode use the pale orange and ensure search input placeholder/text is pale orange */
.dark .popup-close {
  color: var(--pastel-orange);
}
.dark .search-row input[type="search"]{
  color: var(--pastel-orange);
  border:1px solid rgba(255,255,255,0.04);
}
.dark .search-row input[type="search"]::placeholder{
  color: var(--pastel-orange);
  opacity:0.9;
}

/* Make audio players in detail views show a pale orange/white surface in dark mode */
.dark .detail-body audio{
  background: var(--pastel-orange);
  border-radius:8px;
  padding:6px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}

/* In dark mode ensure sidebar text, the dark toggle and tool-card titles use the pale orange tint */
.dark .sidebar,
.dark .sidebar a,
.dark .sidebar .closebtn,
.dark .lang-btn,
.dark .dark-btn,
.dark .menu-btn,
.dark .tool-card h3,
.dark .tool-card i {
  color: var(--pastel-orange);
}

/* Ensure language flag glyphs are visible and well-sized in the sidebar */
.lang-btn .flag{
  display:inline-block;
  font-size:18px;
  line-height:1;
  opacity:1;
  filter:none;
  -webkit-text-stroke: 0;
}

/* Make the base tool cards use the darker blue-gray surface in dark mode */
.dark .tool-card{
  background: var(--dm-card-bg);
  border:1px solid var(--card-border);
  box-shadow:none;
}
.dark .tool-card i,
.dark .tool-card h3 {
  color: var(--pastel-orange);
}

/* Make the popup search area use the blue-gray background and pale-orange/white text in dark mode */
.dark .search-row{
  background: var(--popup-search-bg);
  color: var(--pastel-orange);
  border-radius:12px;
}
.dark .search-row input[type="search"]{
  color: var(--pastel-orange);
  border:1px solid rgba(255,255,255,0.04);
}
.dark .search-row .count{
  color: var(--pastel-orange);
}

/* Dark-mode scrollbar styling:
   - track (background) darker grey
   - thumb (indicator) lighter grey for contrast */
.dark .list-wrapper::-webkit-scrollbar,
.dark .sidebar::-webkit-scrollbar,
.dark .popup-content::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
.dark .list-wrapper::-webkit-scrollbar-track,
.dark .sidebar::-webkit-scrollbar-track,
.dark .popup-content::-webkit-scrollbar-track {
  background: #223233; /* dark grey track */
  border-radius: 8px;
}
.dark .list-wrapper::-webkit-scrollbar-thumb,
.dark .sidebar::-webkit-scrollbar-thumb,
.dark .popup-content::-webkit-scrollbar-thumb {
  background: #97a0a3; /* lighter grey thumb */
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

/* Removed global main overflow lock so individual pages (like contact) can enable scrolling when needed */